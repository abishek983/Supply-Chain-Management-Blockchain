{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ChangeOwnerShipInstance from'../interface/change_ownership';import Spinner from'./spinner';var ChangeOwnerShip=/*#__PURE__*/function(_Component){_inherits(ChangeOwnerShip,_Component);var _super=_createSuper(ChangeOwnerShip);function ChangeOwnerShip(){var _this;_classCallCheck(this,ChangeOwnerShip);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={type:'',serial:'',sendTo:'',loading:false,message:''};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=function(e){e.preventDefault();_this.setState({loading:true});var _this$state=_this.state,type=_this$state.type,serial=_this$state.serial,sendTo=_this$state.sendTo;ChangeOwnerShipInstance.methods.changeOwnership(type,serial,sendTo).send({from:_this.props.accounts[0]}).then(function(){_this.setState({message:\"Change OwnerShip Succesful\"});_this.setState({loading:false});}).catch(function(){_this.setState({message:\"Change OwnerShip failed\"});_this.setState({loading:false});setTimeout(function(){return _this.setState({message:''});},5000);});};return _this;}_createClass(ChangeOwnerShip,[{key:\"render\",value:function render(){var _this$state2=this.state,message=_this$state2.message,type=_this$state2.type,serial=_this$state2.serial,loading=_this$state2.loading,sendTo=_this$state2.sendTo;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"h1\",null,\"Change Ownership\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Build Parts\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/getParts\",className:\"btn btn-outline-primary btn-sm mx-2\"},\"Parts Details\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/addOwnerShip\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Add Ownership\")),message!==''&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-primary my-1\",role:\"alert\"},message),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Type\"},\"Type 0 for Part and 1 for Product\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"type\",value:type,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Type\"},\"Serial Number\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"serial\",value:serial,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Serial NUmber\"},\"Sender's Address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"sendTo\",value:sendTo,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary my-2\"},\"Change Ownership\"),loading&&/*#__PURE__*/React.createElement(Spinner,null)));}}]);return ChangeOwnerShip;}(Component);export default ChangeOwnerShip;","map":{"version":3,"sources":["C:/Users/abishek_mondal/Desktop/SCM_BLOCKCHAIN-master/scm/src/components/ChangeOwnerShip.js"],"names":["React","Component","ChangeOwnerShipInstance","Spinner","ChangeOwnerShip","state","type","serial","sendTo","loading","message","onChange","e","setState","target","name","value","onSubmit","preventDefault","methods","changeOwnership","send","from","props","accounts","then","catch","setTimeout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ChangeOwnerShipInstance from '../interface/change_ownership';\r\nimport Spinner from './spinner';\r\n\r\nclass ChangeOwnerShip extends Component {\r\n    state = {\r\n        type : '',\r\n        serial : '',\r\n        sendTo : '',\r\n        loading : false,\r\n        message : ''\r\n    }\r\n    onChange = (e) =>{\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    onSubmit = (e) =>{\r\n        e.preventDefault();\r\n        this.setState({ loading: true });\r\n        const {type, serial, sendTo} = this.state;\r\n        ChangeOwnerShipInstance.methods.changeOwnership(type, serial, sendTo)\r\n                            .send({ from: this.props.accounts[0]})\r\n                            .then(() =>{\r\n                                this.setState({ message: \"Change OwnerShip Succesful\" }); \r\n                                this.setState({ loading: false });   \r\n                            })\r\n                            .catch(()=> {\r\n                                this.setState({ message: \"Change OwnerShip failed\" });\r\n                                this.setState({ loading: false });\r\n                                setTimeout(() => this.setState({ message: '' }), 5000)\r\n                            })\r\n    }\r\n\r\n    render() {\r\n        const {message, type, serial, loading, sendTo} = this.state;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <h1>Change Ownership</h1>\r\n                    <div>\r\n                        <a href=\"/\" className=\"btn btn-outline-primary btn-sm mx-1\">Build Parts</a>\r\n                        <a href=\"/getParts\" className=\"btn btn-outline-primary btn-sm mx-2\">Parts Details</a>\r\n                        <a href=\"/addOwnerShip\" className=\"btn btn-outline-primary btn-sm mx-1\">Add Ownership</a>\r\n                    </div>\r\n                    {message !== '' &&\r\n                        <div className=\"alert alert-primary my-1\" role=\"alert\">\r\n                            {message}\r\n                        </div>\r\n                    }\r\n                    <label htmlFor=\"Type\">Type 0 for Part and 1 for Product</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"type\"\r\n                        value={type} onChange={this.onChange} />\r\n                    <label htmlFor=\"Type\">Serial Number</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"serial\"\r\n                        value={serial} onChange={this.onChange} />\r\n                    <label htmlFor=\"Serial NUmber\">Sender's Address</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"sendTo\"\r\n                        value={sendTo} onChange={this.onChange} />\r\n\r\n                    <button className=\"btn btn-primary my-2\">Change Ownership</button>\r\n                    {loading && <Spinner />}\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ChangeOwnerShip;"]},"metadata":{},"sourceType":"module"}