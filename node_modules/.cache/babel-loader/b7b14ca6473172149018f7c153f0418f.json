{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ProductInstance from'../../../interface/product_management';import ChangeOwnerShipInstance from'../../../interface/change_ownership';import Details from'./Details';import _ from'lodash';import Spinner from'../../spinner';var GetParts=/*#__PURE__*/function(_Component){_inherits(GetParts,_Component);var _super=_createSuper(GetParts);function GetParts(){var _this;_classCallCheck(this,GetParts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={part_details:{},serial:'',loading:false,error:false,curr_add:''};_this.onSubmit=function(e){e.preventDefault();_this.setState({loading:true,part_details:''});ProductInstance.methods.showPart(_this.state.serial).call({from:_this.props.accounts[0]},function(err,part_details){if(err){console.log(\"part doesn't exist or doesn't belongs to you\");}else{_this.setState({part_details:part_details});_this.setState({loading:false});}});};_this.onChange=function(e){_this.setState({serial:e.target.value});};_this.getOwner=function(e){e.preventDefault();var serial=_this.state.serial;_this.setState({loading:true});ChangeOwnerShipInstance.methods.currentOwner(0,serial).call({from:_this.props.accounts[0]}).then(function(curr_add){_this.setState({curr_add:curr_add});_this.setState({loading:false});}).catch(function(){_this.setState({loading:false});_this.setState({curr_add:\"Errpr occured\"});});};return _this;}_createClass(GetParts,[{key:\"render\",value:function render(){var _this$state=this.state,part_details=_this$state.part_details,loading=_this$state.loading,serial=_this$state.serial,curr_add=_this$state.curr_add;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"h1\",null,\"Get Parts Details\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Build Parts\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/addOwnerShip\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Add Ownership\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/changeOwnerShip\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Change Ownership\")),/*#__PURE__*/React.createElement(\"div\",{className:\"text-danger\"},\"If the product doesn't exist or doesn't belong to You,Manufacturer would be 0x0000...\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Serial NUmber\"},\"Serial Number\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"serial\",value:serial,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary my-2\"},\"Get Details\"),!_.isEmpty(part_details)&&/*#__PURE__*/React.createElement(Details,{part_details:part_details})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:this.getOwner},\"Current Owner\"),curr_add!==''&&/*#__PURE__*/React.createElement(\"strong\",null,\"Current Owner : \",curr_add),loading&&/*#__PURE__*/React.createElement(Spinner,null));}}]);return GetParts;}(Component);export default GetParts;","map":{"version":3,"sources":["C:/Users/abishek_mondal/Desktop/SCM_BLOCKCHAIN-master/scm/src/components/build_items/parts/GetParts.js"],"names":["React","Component","ProductInstance","ChangeOwnerShipInstance","Details","_","Spinner","GetParts","state","part_details","serial","loading","error","curr_add","onSubmit","e","preventDefault","setState","methods","showPart","call","from","props","accounts","err","console","log","onChange","target","value","getOwner","currentOwner","then","catch","isEmpty"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ProductInstance from '../../../interface/product_management';\r\nimport ChangeOwnerShipInstance from '../../../interface/change_ownership';\r\nimport Details from './Details';\r\nimport _ from 'lodash';\r\nimport Spinner from '../../spinner';\r\n\r\n\r\nclass GetParts extends Component {\r\n    state = {\r\n        part_details: {},\r\n        serial: '',\r\n        loading: false,\r\n        error: false,\r\n        curr_add : ''\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true, part_details: '' });\r\n        ProductInstance.methods.showPart(this.state.serial)\r\n            .call({ from: this.props.accounts[0] }, (err, part_details) => {\r\n                if (err) {\r\n                    console.log(\"part doesn't exist or doesn't belongs to you\")\r\n                }\r\n                else {\r\n                    this.setState({ part_details })\r\n                    this.setState({ loading: false });\r\n                }\r\n            })\r\n    }\r\n    onChange = (e) => {\r\n        this.setState({ serial: e.target.value });\r\n    }\r\n\r\n    getOwner = (e) => {\r\n        e.preventDefault();\r\n        const {serial} = this.state;\r\n        this.setState({loading : true});\r\n        ChangeOwnerShipInstance.methods.currentOwner(0,serial)\r\n            .call({ from: this.props.accounts[0] })\r\n            .then(curr_add => {\r\n                this.setState({curr_add});\r\n                this.setState({loading : false});\r\n            })\r\n            .catch( () => {\r\n                this.setState({loading : false});\r\n                this.setState({curr_add : \"Errpr occured\"});         \r\n            })\r\n    }\r\n\r\n    render() {\r\n        const { part_details, loading, serial, curr_add } = this.state;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <h1>Get Parts Details</h1>\r\n                    <div>\r\n                        <a href=\"/\" className=\"btn btn-outline-primary btn-sm mx-1\">Build Parts</a>\r\n                        <a href=\"/addOwnerShip\" className=\"btn btn-outline-primary btn-sm mx-1\">Add Ownership</a>\r\n                        <a href=\"/changeOwnerShip\" className=\"btn btn-outline-primary btn-sm mx-1\">Change Ownership</a>\r\n                    </div>\r\n                    <div className=\"text-danger\">If the product doesn't exist or doesn't belong to You,Manufacturer would be 0x0000...</div>\r\n                    <label htmlFor=\"Serial NUmber\">Serial Number</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"serial\"\r\n                        value={serial} onChange={this.onChange} />\r\n                    <button className=\"btn btn-primary my-2\">Get Details</button>\r\n                    {!_.isEmpty(part_details) && <Details part_details={part_details} />}\r\n                </form>\r\n                    <button className=\"btn btn-primary\" onClick={this.getOwner}>Current Owner</button>\r\n                        {curr_add !== '' && <strong>Current Owner : {curr_add}</strong>}\r\n                    {loading && <Spinner />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GetParts;"]},"metadata":{},"sourceType":"module"}