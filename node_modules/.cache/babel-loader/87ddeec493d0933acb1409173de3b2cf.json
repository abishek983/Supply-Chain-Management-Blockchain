{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\abishek_mondal\\\\Desktop\\\\SCM_BLOCKCHAIN-master\\\\scm\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ChangeOwnerShipInstance from'../interface/change_ownership';import Spinner from'./spinner';var AddOwnerShip=/*#__PURE__*/function(_Component){_inherits(AddOwnerShip,_Component);var _super=_createSuper(AddOwnerShip);function AddOwnerShip(){var _this;_classCallCheck(this,AddOwnerShip);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={serial:'',type:'',loading:false,message:''};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));// console.log(e.target.name, \" \" ,e.target.value);\n};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this.setState({loading:true});ChangeOwnerShipInstance.methods.addOwnership(0,_this.state.serial).send({from:_this.props.accounts[0]}).then(function(){_this.setState({message:\"Add Ownership Succesful\"});_this.setState({loading:false});}).catch(function(){_this.setState({message:\"Add Ownership failed\"});_this.setState({loading:false});setTimeout(function(){return _this.setState({message:''});},5000);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(AddOwnerShip,[{key:\"render\",value:function render(){var _this$state=this.state,serial=_this$state.serial,type=_this$state.type,loading=_this$state.loading,message=_this$state.message;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"h1\",null,\"Add Ownership\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Build Parts\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/getParts\",className:\"btn btn-outline-primary btn-sm mx-2\"},\"Parts Details\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/changeOwnerShip\",className:\"btn btn-outline-primary btn-sm mx-1\"},\"Change Ownership\")),message!==''&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-primary my-1\",role:\"alert\"},message),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Type\"},\"Type 0 for Part and 1 for Product\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"type\",value:type,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Serial NUmber\"},\"Serial Number\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"serial\",value:serial,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary my-2\"},\"Add Ownership\"),loading&&/*#__PURE__*/React.createElement(Spinner,null)));}}]);return AddOwnerShip;}(Component);export default AddOwnerShip;","map":{"version":3,"sources":["C:/Users/abishek_mondal/Desktop/SCM_BLOCKCHAIN-master/scm/src/components/AddOwnerShip.js"],"names":["React","Component","ChangeOwnerShipInstance","Spinner","AddOwnerShip","state","serial","type","loading","message","onChange","e","setState","target","name","value","onSubmit","preventDefault","methods","addOwnership","send","from","props","accounts","then","catch","setTimeout"],"mappings":"qwCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,uBAAP,KAAoC,+BAApC,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,GAGMC,CAAAA,Y,mVACFC,K,CAAQ,CACJC,MAAM,CAAE,EADJ,CAEJC,IAAI,CAAE,EAFF,CAGJC,OAAO,CAAE,KAHL,CAIJC,OAAO,CAAE,EAJL,C,OAORC,Q,CAAW,SAACC,CAAD,CAAO,CACd,MAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACA;AACH,C,OAEDC,Q,0FAAW,iBAAOL,CAAP,kHACPA,CAAC,CAACM,cAAF,GACA,MAAKL,QAAL,CAAc,CAAEJ,OAAO,CAAE,IAAX,CAAd,EACAN,uBAAuB,CAACgB,OAAxB,CAAgCC,YAAhC,CAA6C,CAA7C,CAAgD,MAAKd,KAAL,CAAWC,MAA3D,EACqBc,IADrB,CAC0B,CAAEC,IAAI,CAAE,MAAKC,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAR,CAD1B,EAEqBC,IAFrB,CAE0B,UAAK,CACP,MAAKZ,QAAL,CAAc,CAAEH,OAAO,CAAE,yBAAX,CAAd,EACA,MAAKG,QAAL,CAAc,CAAEJ,OAAO,CAAE,KAAX,CAAd,EACH,CALrB,EAMqBiB,KANrB,CAM2B,UAAK,CACR,MAAKb,QAAL,CAAc,CAAEH,OAAO,CAAE,sBAAX,CAAd,EACA,MAAKG,QAAL,CAAc,CAAEJ,OAAO,CAAE,KAAX,CAAd,EACAkB,UAAU,CAAC,iBAAM,OAAKd,QAAL,CAAc,CAAEH,OAAO,CAAE,EAAX,CAAd,CAAN,EAAD,CAAuC,IAAvC,CAAV,CACH,CAVrB,EAHO,sD,6IAgBF,iBACsC,KAAKJ,KAD3C,CACGC,MADH,aACGA,MADH,CACWC,IADX,aACWA,IADX,CACiBC,OADjB,aACiBA,OADjB,CAC0BC,OAD1B,aAC0BA,OAD1B,CAEL,mBACI,4CACI,4BAAM,QAAQ,CAAE,KAAKO,QAArB,eACI,8CADJ,cAEI,4CACI,yBAAG,IAAI,CAAC,GAAR,CAAY,SAAS,CAAC,qCAAtB,gBADJ,cAEI,yBAAG,IAAI,CAAC,WAAR,CAAoB,SAAS,CAAC,qCAA9B,kBAFJ,cAGI,yBAAG,IAAI,CAAC,kBAAR,CAA2B,SAAS,CAAC,qCAArC,qBAHJ,CAFJ,CAOKP,OAAO,GAAK,EAAZ,eACG,2BAAK,SAAS,CAAC,0BAAf,CAA0C,IAAI,CAAC,OAA/C,EACKA,OADL,CARR,cAYI,6BAAO,OAAO,CAAC,MAAf,sCAZJ,cAaI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,IAAI,CAAC,MAAjD,CACI,KAAK,CAAEF,IADX,CACiB,QAAQ,CAAE,KAAKG,QADhC,EAbJ,cAeI,6BAAO,OAAO,CAAC,eAAf,kBAfJ,cAgBI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CAA4C,IAAI,CAAC,QAAjD,CACI,KAAK,CAAEJ,MADX,CACmB,QAAQ,CAAE,KAAKI,QADlC,EAhBJ,cAmBI,8BAAQ,SAAS,CAAC,sBAAlB,kBAnBJ,CAoBKF,OAAO,eAAI,oBAAC,OAAD,MApBhB,CADJ,CADJ,CA0BH,C,0BAzDsBP,S,EA4D3B,cAAeG,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport ChangeOwnerShipInstance from '../interface/change_ownership';\r\nimport Spinner from './spinner';\r\n\r\n\r\nclass AddOwnerShip extends Component {\r\n    state = {\r\n        serial: '',\r\n        type: '',\r\n        loading: false,\r\n        message: ''\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n        // console.log(e.target.name, \" \" ,e.target.value);\r\n    }\r\n\r\n    onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ loading: true });\r\n        ChangeOwnerShipInstance.methods.addOwnership(0, this.state.serial)\r\n                            .send({ from: this.props.accounts[0]})\r\n                            .then(() =>{\r\n                                this.setState({ message: \"Add Ownership Succesful\" }); \r\n                                this.setState({ loading: false });   \r\n                            })\r\n                            .catch(()=> {\r\n                                this.setState({ message: \"Add Ownership failed\" });\r\n                                this.setState({ loading: false });\r\n                                setTimeout(() => this.setState({ message: '' }), 5000)\r\n                            })\r\n    }\r\n\r\n    render() {\r\n        const { serial, type, loading, message } = this.state;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <h1>Add Ownership</h1>\r\n                    <div>\r\n                        <a href=\"/\" className=\"btn btn-outline-primary btn-sm mx-1\">Build Parts</a>\r\n                        <a href=\"/getParts\" className=\"btn btn-outline-primary btn-sm mx-2\">Parts Details</a>\r\n                        <a href=\"/changeOwnerShip\" className=\"btn btn-outline-primary btn-sm mx-1\">Change Ownership</a>\r\n                    </div>\r\n                    {message !== '' &&\r\n                        <div className=\"alert alert-primary my-1\" role=\"alert\">\r\n                            {message}\r\n                        </div>\r\n                    }\r\n                    <label htmlFor=\"Type\">Type 0 for Part and 1 for Product</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"type\"\r\n                        value={type} onChange={this.onChange} />\r\n                    <label htmlFor=\"Serial NUmber\">Serial Number</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"serial\"\r\n                        value={serial} onChange={this.onChange} />\r\n\r\n                    <button className=\"btn btn-primary my-2\">Add Ownership</button>\r\n                    {loading && <Spinner />}\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddOwnerShip;"]},"metadata":{},"sourceType":"module"}